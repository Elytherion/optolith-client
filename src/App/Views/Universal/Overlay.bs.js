// Generated by ReScript, PLEASE EDIT WITH CARE
'use strict';

var Curry = require("bs-platform/lib/js/curry.js");
var React = require("react");
var ReactDom = require("react-dom");
var Caml_option = require("bs-platform/lib/js/caml_option.js");
var ClassNames$OptolithClient = require("../../../Utilities/ClassNames.bs.js");
var Ley_Option$OptolithClient = require("../../../Data/Ley_Option.bs.js");
var ReactUtils$OptolithClient = require("../../../Utilities/ReactUtils.bs.js");

function Overlay(Props) {
  var baseClassName = Props.baseClassName;
  var className = Props.className;
  var children = Props.children;
  var isOpen = Props.isOpen;
  var onBackdrop = Props.onBackdrop;
  var backdropRef = React.useRef(null);
  var handleBackdropClick = React.useCallback((function ($$event) {
          Curry._2(Ley_Option$OptolithClient.Infix.$less$amp$great, Caml_option.nullable_to_opt(backdropRef.current), (function (currentRef) {
                  if (!currentRef.contains(ReactUtils$OptolithClient.eventTargetToDom($$event.target))) {
                    return Curry._1(onBackdrop, $$event);
                  }
                  
                }));
          
        }), [onBackdrop]);
  if (isOpen) {
    return ReactDom.createPortal(React.createElement("div", {
                    ref: backdropRef,
                    className: ClassNames$OptolithClient.fold({
                          hd: Curry._1(Ley_Option$OptolithClient.$$return, baseClassName + "-backdrop"),
                          tl: {
                            hd: className,
                            tl: /* [] */0
                          }
                        }),
                    onClick: handleBackdropClick
                  }, React.createElement("div", {
                        "aria-modal": true,
                        className: baseClassName,
                        role: "dialog"
                      }, children)), document.body);
  } else {
    return null;
  }
}

var make = Overlay;

exports.make = make;
/* react Not a pure module */
